<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="description" content="bwip-js : Barcode Writer in Pure JavaScript">
	<meta name="keywords" content="bar code, barcode generator, online barcode generator, free barcode generator, javascript, javascript library, nodejs, QR Code, EAN, EAN 13, Code 128, UPC, ISBN, ITF 14, Code 39, GS1, GS1 128, PDF417, HIBC, DataMatrix, Data Matrix, DataBar, OCR, OCR B, OCR font, Aztec Code, PostNet, USPS, Pharmacode" />

    <link rel="stylesheet" type="text/css" media="screen" href="stylesheets/stylesheet.css">

    <title>bwip-js // Barcode Writer in Pure JavaScript</title>
  </head>
  <body>
    <!-- HEADER -->
    <div id="header_wrap" class="outer">
        <header class="inner">
          <a id="forkme_banner" href="https://github.com/metafloor/bwip-js">View on GitHub</a>

          <h1 id="project_title" style="font-size:200%">bwip-js // Barcode Writer in Pure JavaScript</h1>
            <section id="downloads">
              <a class="zip_download_link" href="https://github.com/metafloor/bwip-js/zipball/master">Download this project as a .zip file</a>
              <a class="tar_download_link" href="https://github.com/metafloor/bwip-js/tarball/master">Download this project as a tar.gz file</a>
            </section>
        </header>
    </div>

    <!-- MAIN CONTENT -->
    <div id="main_content_wrap" class="outer">
      <section id="main_content" class="inner">

<p><a href="http://metafloor.github.io/bwip-js"><img alt="bwip-js" align="right" src="http://metafloor.github.io/bwip-js/images/bwip-js.png"></a>
bwip-js is a translation to native JavaScript of the amazing code provided in <a href="https://github.com/bwipp/postscriptbarcode">Barcode Writer in Pure PostScript</a>.  The translated code can run on any modern browser or JavaScript-based server framework.</p>
<p>The software has encoding modules for over 100 different barcode types and standards.
All linear and two-dimensional barcodes in common use (and many uncommon
ones) are available.  An exhaustive list of supported barcode types can be
found at the end of this document.</p>
<blockquote>
  <p>Version 3.0 provides support for ES6 modules with the individual encoders as named exports.
  This will allow webpack and other bundlers to tree shake the large BWIPP cross-compiled
  code into something more managable.</p>
  <p>The ES6 module is only available on the browser.   Support for nodejs is planned.</p>
  <p>There is minor API breakage versus version 2.  The exported version strings have changed
  since there is no longer a <code>BWIPP</code> object - its contents were hoisted to module scope to
  enable dead code elimination.</p>
  <p>|  Old Version String      |  3.0 Version String      |
   | :------------------------| :------------------------|
   |  <code>bwipjs.VERSION</code>        |  <code>bwipjs.BWIPJS_VERSION</code> |
   |  <code>bwipjs.BWIPP.VERSION</code>  |  <code>bwipjs.BWIPP_VERSION</code>  |</p>
  <p>See the section <a href="#es6-browser-module-usage">ES6 Browser Module Usage</a> for details of the new capabilities.</p>
</blockquote>
<h2 id="status">Status</h2>
<ul>
<li>Current bwip-js version is 3.0.0 (2021-04-28)</li>
<li>Current BWIPP version is 2021-02-06</li>
<li>Node.js compatibility: 0.12+</li>
<li>Browser compatibility: Edge, Firefox, Chrome</li>
</ul>
<h2 id="supportedplatforms">Supported Platforms</h2>
<ul>
<li><a href="#browser-usage">Browser</a></li>
<li><a href="#react-usage">React App</a></li>
<li><a href="#nodejs-request-handler">Node.js</a></li>
<li><a href="#electron-example">Electron</a></li>
<li><a href="#command-line-interface">Command Line</a></li>
</ul>
<h2 id="links">Links</h2>
<ul>
<li><a href="http://metafloor.github.io/bwip-js/">Home Page</a></li>
<li><a href="https://github.com/metafloor/bwip-js">github Repository</a></li>
<li><a href="https://github.com/metafloor/bwip-js/wiki/Methods-Reference"><code>bwipjs</code> Methods Reference</a></li>
<li><a href="http://metafloor.github.io/bwip-js/demo/demo.html">Online Barcode Generator</a></li>
<li><a href="https://github.com/metafloor/bwip-js/wiki/Online-Barcode-API">Online Barcode API</a></li>
<li><a href="https://www.npmjs.com/package/bwip-js">npm Page</a></li>
<li><a href="https://github.com/bwipp/postscriptbarcode/wiki">BWIPP Documentation</a></li>
<li><a href="https://github.com/metafloor/bwip-js/wiki/Differences-From-BWIPP">Differences From BWIPP</a></li>
<li><a href="https://github.com/metafloor/bwip-js/wiki/BWIPP-Barcode-Types">Supported Barcode Types</a></li>
<li><a href="https://github.com/metafloor/bwip-js/wiki/Using-Your-Own-Fonts">Using Your Own Fonts</a></li>
<li><a href="https://github.com/metafloor/bwip-js/wiki/Annotated-Example-Drawing-Object">Annotated Example Drawing Object</a></li>
<li><a href="https://github.com/metafloor/bwip-js/wiki/Notes-on-the-Raw-BWIPP-Data">Working with the Raw BWIPP Rendering Data</a></li>
</ul>
<h2 id="installation">Installation</h2>
<p>You can download the latest npm module using:</p>
<pre><code>npm install bwip-js
</code></pre>
<p>Or the latest code from github:</p>
<pre><code>https://github.com/metafloor/bwip-js
</code></pre>
<p>(The bwip-js master branch and the npm version are kept sync'd.)</p>
<h2 id="onlinebarcodegenerator">Online Barcode Generator</h2>
<p>An <a href="http://metafloor.github.io/bwip-js/demo/demo.html">online barcode generator</a>
demonstrates all of the features of bwip-js.  The app is also available 
in the root bwip-js directory.  See <a href="#demo-apps">Demo Apps</a>.</p>
<h2 id="onlinebarcodeapi">Online Barcode API</h2>
<p>A bwip-js barcode service is available online, ready to serve up barcode images
on demand.</p>
<p>You can generate barcodes from anywhere on the web.  Embed the URLs in your
HTML documents or retrieve the barcode images directly from your non-JavaScript
server.  (JavaScript-based servers should use the bwip-js code directly - it will
be a lot more performant.)</p>
<p>For details on how to use this service, see <a href="https://github.com/metafloor/bwip-js/wiki/Online-Barcode-API">Online Barcode API</a>.</p>
<h2 id="workingwithbwipjsmethods">Working With bwip-js Methods</h2>
<p>Most of the public methods of the bwip-js export use an options object.  Only two values are required:</p>
<ul>
<li><code>bcid</code> : The name of the barcode type/symbol.</li>
<li><code>text</code> : The text to encode.</li>
</ul>
<p>All remaining options are optional, though you may find some quite useful.</p>
<p>The options values can be divided into two parts, bwip-js specific options and BWIPP options.</p>
<p>The bwip-js options are:</p>
<ul>
<li><p><code>scaleX</code> : The x-axis scaling factor.  Must be an integer &gt; 0.  Default is 2.</p></li>
<li><p><code>scaleY</code> : The y-axis scaling factor.  Must be an integer &gt; 0.  Default is <code>scaleX</code>.</p></li>
<li><p><code>scale</code> : Sets both the x-axis and y-axis scaling factors.  Must be an integer &gt; 0.</p></li>
<li><p><code>rotate</code> : Allows rotating the image to one of the four orthogonal orientations.  A string value.  Must be one of:</p>
<ul>
<li><code>'N'</code> : Normal (not rotated).  The default.</li>
<li><code>'R'</code> : Clockwise (right) 90 degree rotation.</li>
<li><code>'L'</code> : Counter-clockwise (left) 90 degree rotation.</li>
<li><code>'I'</code> : Inverted 180 degree rotation.</li></ul></li>
<li><p><code>padding</code> : Shorthand for setting <code>paddingtop</code>, <code>paddingleft</code>, <code>paddingright</code>, and <code>paddingbottom</code>.</p></li>
<li><p><code>paddingwidth</code> : Shorthand for setting <code>paddingleft</code> and <code>paddingright</code>.</p></li>
<li><p><code>paddingheight</code> : Shorthand for setting <code>paddingtop</code> and <code>paddingbottom</code>.</p></li>
<li><p><code>paddingtop</code> : Sets the height of the padding area, in points, on the top of the barcode image. Rotates and scales with the image.</p></li>
<li><p><code>paddingleft</code> : Sets the width of the padding area, in points, on the left side of the barcode image. Rotates and scales with the image.</p></li>
<li><p><code>paddingright</code> : Sets the width of the padding area, in points, on the right side of the barcode image. Rotates and scales with the image.</p></li>
<li><p><code>paddingbottom</code> : Sets the height of the padding area, in points, on the bottom of the barcode image. Rotates and scales with the image.</p></li>
<li><p><code>backgroundcolor</code> : This is actually a BWIPP option but is better handled by the bwip-js drawing code.  Takes either a hex RRGGBB or hex CCMMYYKK string value. </p></li>
</ul>
<p>For the BWIPP specific options, you will need to consult the
<a href="https://github.com/bwipp/postscriptbarcode/wiki">BWIPP documentation</a>
to determine what options are available for each barcode type.</p>
<p>Note that bwip-js normalizes the BWIPP <code>width</code> and <code>height</code> options to always be in millimeters.
The resulting images are rendered at 72 dpi.  To convert to pixels, use a factor of 2.835 px/mm
(72 dpi / 25.4 mm/in).  The bwip-js scale options multiply the <code>width</code>, <code>height</code>, and <code>padding</code>.</p>
<blockquote>
  <p>An important note about the BWIPP <code>width</code> and <code>height</code> parameters.</p>
</blockquote>
<p>Barcodes have the concept of module width (and height if a two-dimensional barcode).  For
linear barcodes, the module width is the width of the narrowest bar, and all other bar widths are
a multiple of it.  For 2D symbols, module width and height are the dimensions of the square
or rectangle that defines the symbol's layout grid.</p>
<p>For a barcode to be "in spec", the individual module dimensions must be consistent throughout the
symbol.  With high resolution printing, you can add/subtract a dot to adjust the size of individual
modules so the overall image meets the requested width or height, while still keeping the module
size within spec.  This is the intention behind BWIPP's <code>width</code> and <code>height</code> parameters.</p>
<p>bwip-js is designed for web usage, with a target display resolution of 72dpi.  (All of BWIPP's
internals are calculated in points and bwip-js just maps 1pt to 1px.)  At that low
resolution, it is not possible to add or subtract pixels without causing the symbol to go
out of spec.  Imagine a fairly common module width of 2px.  If you add or subtract a pixel,
you have changed the size by 50%.  Typical barcode specs require module sizes to be within 
5-10 pecent of nominal.</p>
<p>For this reason, bwip-js uses a constant module size so the resulting image is as 
large as possible, without exceeding the requested <code>width</code> or <code>height</code>.
The design causes the rendered barcodes to grow in "quantums".  An image will be
X-pixels wide with a module with of 2px, and Y-pixels wide with a module width of 3px,
and can not vary between those two sizes.</p>
<p>With bwip-js, the <code>scale</code> parameters can be thought of as requesting a particular module
width.  <code>scale=1</code> maps to a 1px module.  <code>scale=2</code> is a 2px module.  Etc.</p>
<p>When you specify <code>width</code>, you are effectively changing the scale of the final image.
Internally, bwip-js calcuates the requested <code>width x scale</code>, then divides
by the number of modules the symbol requires.  The floor of that value is the
module width (scale) of the rendered barcode.</p>
<h2 id="browserusage">Browser Usage</h2>
<p>To use within a browser, add the following to the head of your page:</p>
<pre><code>&lt;script type="text/javascript" src="file-or-url-path-to/bwip-js/dist/bwip-js-min.js"&gt;&lt;/script&gt;
</code></pre>
<p>While developing your project, you may want to use <code>dist/bwip-js.js</code> to get better stack
traces.</p>
<p>If you are using <code>RequireJS</code> or a common-js bundling utility, the bwip-js scripts are
structured as UMDs and should work with your environment.</p>
<p>The scripts adds a single <code>bwipjs</code> global object.  To draw a barcode to a canvas:</p>
<pre><code class="javascript language-javascript">try {
    // The return value is the canvas element
    let canvas = bwipjs.toCanvas('mycanvas', {
            bcid:        'code128',       // Barcode type
            text:        '0123456789',    // Text to encode
            scale:       3,               // 3x scaling factor
            height:      10,              // Bar height, in millimeters
            includetext: true,            // Show human-readable text
            textxalign:  'center',        // Always good to set this
        });
} catch (e) {
    // `e` may be a string or Error object
}
</code></pre>
<p>The <code>bwipjs.toCanvas()</code> method takes two parameters:</p>
<ul>
<li>The canvas on which to render the barcode.  This can by an <code>id</code> string or the actual
canvas element.  The rendering will automatically resize the canvas to match the
barcode image.</li>
<li>A bwip-js/BWIPP options object.</li>
</ul>
<p>On return from <code>toCanvas()</code>, the barcode image will have been fully rendered to the canvas.</p>
<p>If you would prefer to display the barcode using an <code>&lt;img&gt;</code> tag or with CSS <code>background-image</code>,
pass in a detached or hidden canvas, and use the canvas method
<a href="https://developer.mozilla.org/en-US/docs/Web/API/HTMLCanvasElement/toDataURL">HTMLCanvasElement.toDataURL</a>
to get a data URL. For example:</p>
<pre><code class="javascript language-javascript">let canvas = document.createElement('canvas');
try {
    bwipjs.toCanvas(canvas, options);
    document.getElementById('my-img').src = canvas.toDataURL('image/png');
} catch (e) {
    // `e` may be a string or Error object
}
</code></pre>
<h2 id="es6browsermoduleusage">ES6 Browser Module Usage</h2>
<p>The ESM provides the same API as the standard browser module using:</p>
<pre><code class="javascript language-javascript">import bwipjs from 'bwip-js';

// ... identical bwipjs.toCanvas() interface as above ...
</code></pre>
<p>The ESM also facilitates bundler tree shaking by providing the individual encoders as named exports.
Each exported encoder functions identically to <code>bwipjs.toCanvas()</code>.</p>
<p>The exported names are the same as the <code>bcid</code> names, with the caveat that dashes <code>-</code> are replaced with
underscores <code>_</code>.  For example, if you want to import the <code>gs1-128</code> encoder, you would use:</p>
<pre><code class="javascript language-javascript">import { gs1_128 } from 'bwip-js';

try {
    gs1_128('my-canvas', options);
} catch (e) {
    // `e` may be a string or Error object
}
</code></pre>
<h2 id="reactusage">React Usage</h2>
<p>The following is a minimal example of bwip-js in a React app.
It is based on the default <code>App.js</code> file generated by <code>create-react-app</code>.</p>
<pre><code class="javascript language-javascript">import React, { Component } from 'react';
import logo from './logo.svg';
import './App.css';
import bwipjs from 'bwip-js';

class App extends Component {
  componentDidMount() {
    try {
      // The return value is the canvas element
      let canvas = bwipjs.toCanvas('mycanvas', {
                bcid:        'code128',       // Barcode type
                text:        '0123456789',    // Text to encode
                scale:       3,               // 3x scaling factor
                height:      10,              // Bar height, in millimeters
                includetext: true,            // Show human-readable text
                textxalign:  'center',        // Always good to set this
            });
    } catch (e) {
        // `e` may be a string or Error object
    }
  }
  render() {
    return (
      &lt;div className="App"&gt;
        &lt;div className="App-header"&gt;
          &lt;img src={logo} className="App-logo" alt="logo" /&gt;
          &lt;h2&gt;Welcome to React&lt;/h2&gt;
        &lt;/div&gt;
        &lt;canvas id="mycanvas"&gt;&lt;/canvas&gt;
      &lt;/div&gt;
    );
  }
}
export default App;
</code></pre>
<p>See the Browser Usage section for details on the <code>toCanvas()</code> method. </p>
<p>See the ES6 Browser Module Usage section for details on importing encoders directly.</p>
<h2 id="nodejsrequesthandler">Node.js Request Handler</h2>
<p>The online barcode API is implemented as a Node.js application.
See the <a href="https://github.com/metafloor/bwip-js/wiki/Online-Barcode-API">Online Barcode API</a> for details on how the URL query parameters must be structured.</p>
<p>A working, minimal example of how to use the request handler can be found in
<code>server.js</code>:</p>
<pre><code class="javascript language-javascript">// Simple HTTP server that renders barcode images using bwip-js.
const http   = require('http');
const bwipjs = require('bwip-js');

// This shows how to load the Inconsolata font, supplied with the bwip-js distribution.
// The path to your fonts will be different.
//bwipjs.loadFont('Inconsolata', 100,
//      require('fs').readFileSync('./fonts/Inconsolata.otf', 'binary'));

http.createServer(function(req, res) {
    // If the url does not begin /?bcid= then 404.  Otherwise, we end up
    // returning 400 on requests like favicon.ico.
    if (req.url.indexOf('/?bcid=') != 0) {
        res.writeHead(404, { 'Content-Type':'text/plain' });
        res.end('BWIPJS: Unknown request format.', 'utf8');
    } else {
        bwipjs.request(req, res); // Executes asynchronously
    }

}).listen(3030);
</code></pre>
<p>If you run the above code on your local machine, you can test with the following URL:</p>
<pre><code>http://localhost:3030/?bcid=isbn&amp;text=978-1-56581-231-4+52250&amp;includetext&amp;guardwhitespace
</code></pre>
<p>The bwip-js request handler only operates on the URL query parameters and
ignores all path information.  Your application is free to structure the URL
path as needed to implement the desired HTTP request routing.</p>
<h2 id="nodejsimagegenerator">Node.js Image Generator</h2>
<p>You can use bwip-js to generate PNG images directly.</p>
<pre><code class="javascript language-javascript">const bwipjs = require('bwip-js');

bwipjs.toBuffer({
        bcid:        'code128',       // Barcode type
        text:        '0123456789',    // Text to encode
        scale:       3,               // 3x scaling factor
        height:      10,              // Bar height, in millimeters
        includetext: true,            // Show human-readable text
        textxalign:  'center',        // Always good to set this
    }, function (err, png) {
        if (err) {
            // `err` may be a string or Error object
        } else {
            // `png` is a Buffer
            // png.length           : PNG file length
            // png.readUInt32BE(16) : PNG image width
            // png.readUInt32BE(20) : PNG image height
        }
    });
</code></pre>
<p>If you would prefer to work with Promises, omit the callback function and
<code>toBuffer()</code> will return a Promise:</p>
<pre><code class="javascript language-javascript">bwipjs.toBuffer({
        bcid:        'code128',       // Barcode type
        text:        '0123456789',    // Text to encode
        scale:       3,               // 3x scaling factor
        height:      10,              // Bar height, in millimeters
        includetext: true,            // Show human-readable text
        textxalign:  'center',        // Always good to set this
    })
    .then(png =&gt; {
        // `png` is a Buffer as in the example above
    })
    .catch(err =&gt; {
        // `err` may be a string or Error object
    });
</code></pre>
<h2 id="electronexample">Electron Example</h2>
<p>There has been some changes to the Electron bundler, and it may pull in either the
nodejs or browser module, depending on your version of Electron.  The example below
assumes the nodejs module.</p>
<p>If you try this example and get the error <code>bwipjs.toBuffer is not a function</code>, the
Electron bundler grabbed the browser module.  See the <a href="#browser-usage">Browser Usage</a>
section above and draw to a canvas instead.</p>
<p>This is an example <code>index.html</code> file for a basic, single window app:</p>
<pre><code class="html language-html">&lt;!DOCTYPE html&gt;
&lt;html&gt;
  &lt;head&gt;
    &lt;meta charset="UTF-8"&gt;
    &lt;title&gt;Hello World!&lt;/title&gt;
  &lt;/head&gt;
  &lt;body&gt;
    Node.js &lt;script&gt;document.write(process.versions.node)&lt;/script&gt;,
    Chromium &lt;script&gt;document.write(process.versions.chrome)&lt;/script&gt;,
    Electron &lt;script&gt;document.write(process.versions.electron)&lt;/script&gt;,
    bwip-js &lt;script&gt;document.write(bwipjs.VERSION)&lt;/script&gt;,
    and BWIPP &lt;script&gt;document.write(bwipjs.BWIPP.VERSION)&lt;/script&gt;.
    &lt;br&gt;&lt;br&gt;&lt;img id="myimg"&gt;
    &lt;pre id="output"&gt;&lt;/pre&gt;
  &lt;/body&gt;

  &lt;script&gt;
    var bwipjs = require('bwip-js');
    bwipjs.toBuffer({ bcid:'qrcode', text:'0123456789' }, function (err, png) {
        if (err) {
          document.getElementById('output').textContent = err;
        } else {
          document.getElementById('myimg').src = 'data:image/png;base64,' +
                                                 png.toString('base64');
        }
      });
  &lt;/script&gt;
&lt;/html&gt;
</code></pre>
<h2 id="commandlineinterface">Command Line Interface</h2>
<p>bwip-js can be used as a command line tool when installed globally:</p>
<pre><code>$ npm install -g bwip-js
$ bwip-js
Usage: bwip-js symbol-name text [options...] png-file
       bwip-js --bcid=symbol-name --text=text [options...] png-file

Example:
       bwip-js code128 012345678 includetext textcolor=ff0000 my-code128.png

Try 'bwip-js --help' for more information.
Try 'bwip-js --symbols' for a list of supported barcode symbols.
</code></pre>
<p>To use a custom font with the command line utility, use the <code>--loadfont</code> option.  It
takes one of three formats:</p>
<p><code>--loadfont=</code><em>font-name</em><code>,</code><em>y-mult</em><code>,</code><em>x-mult</em><code>,</code><em>path-to-font-file</em> <br>
<code>--loadfont=</code><em>font-name</em><code>,</code><em>size-mult</em><code>,</code><em>path-to-font-file</em> <br>
<code>--loadfont=</code><em>font-name</em><code>,</code><em>path-to-font-file</em> <br></p>
<p>For example:</p>
<pre><code>$ bwip-js code128 12345678 includetext textfont=CONS textxalign=center \
  loadfont=CONS,250,100,../fonts/Inconsolata.otf /tmp/code128.png
</code></pre>
<p>The above demonstrates how to maniplulate the font metrics so the characters appear
tall and narrow.</p>
<h2 id="demohtmlapp">Demo HTML App</h2>
<p><code>demo.html</code> located in the root bwip-js directory is a full featured demonstation
of bwip-js barcode rendering.  It uses bwip-js' built-in graphics to draw to a canvas.
The images produced will match pixel-for-pixel with the images produced by the same
nodejs usage.</p>
<h2 id="examples">Examples</h2>
<p>There are example html and node apps provided with the project including
how to write your own drawing interface, generating SVG barcode images, 
and adding scalable barcodes to a <a href="https://pdfkit.org/">pdfkit</a> document.</p>
<p>See the examples <a href="https://github.com/metafloor/bwip-js/tree/master/examples">README</a> 
for more details.</p>
	</div>
    <!-- FOOTER  -->
    <div id="footer_wrap" class="outer">
      <footer class="inner">
        <p class="copyright">bwip-js maintained by <a href="https://github.com/metafloor">metafloor</a></p>
        <p>Published with <a href="https://pages.github.com">GitHub Pages</a></p>
      </footer>
    </div>
  </body>
</html>
